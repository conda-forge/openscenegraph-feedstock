From 8236e4031dfed7c895e1a43a8406be818ee91974 Mon Sep 17 00:00:00 2001
From: Justin Carpentier <justin.carpentier@inria.fr>
Date: Mon, 13 Apr 2020 19:23:55 +0200
Subject: [PATCH 1/3] fix path issues

---
 src/osgDB/FileUtils.cpp | 6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

diff --git a/src/osgDB/FileUtils.cpp b/src/osgDB/FileUtils.cpp
index c0c8cec88..2bea2c38e 100644
--- a/src/osgDB/FileUtils.cpp
+++ b/src/osgDB/FileUtils.cpp
@@ -119,6 +119,7 @@ typedef char TCHAR;
 #include <string.h>
 
 #include <stack>
+#include <algorithm>
 
 namespace osgDB
 {
@@ -531,7 +532,10 @@ static void appendInstallationLibraryFilePaths(osgDB::FilePathList& filepath)
 #ifdef OSG_DEFAULT_LIBRARY_PATH
 
     // Append the install prefix path to the library search path if configured
-    filepath.push_back(OSG_DEFAULT_LIBRARY_PATH);
+    std::string path = OSG_DEFAULT_LIBRARY_PATH;
+    const char empty_character = '\0';
+    path.erase(std::remove(path.begin(), path.end(), empty_character), path.end());
+    filepath.push_back(path);
 #endif
 }
 
